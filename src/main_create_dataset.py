import os
from dataset_builder import DatasetBuilder
from dotenv import load_dotenv
load_dotenv()

df_builder = DatasetBuilder()

def main():  
    
    malicious_files_dir = "../data/train/malicious"
    benign_files_dir = "../data/train/benign"
    benign_test_files_dir = "../data/test/benign"
    malicious_test_file_dir = "../data/test/malicious"
    common_permission_file_path = os.getenv('COMMON_PERMISSIONS_PATH_FROM_SRC')
    df_builder.build_dataset(malicious_files_dir, benign_files_dir, "../dataframes/most_common_permission.csv", "../dataframes/dataframe.csv")

    df_builder.build_test_set(benign_test_files_dir, malicious_test_file_dir, common_permission_file_path)


if __name__ == "__main__":
    main()




